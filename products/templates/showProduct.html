{% extends 'base.html' %}

{% block content %}
   
<div class="container ">
        <div class="row justify-content-center">
        {% if products %}

        {% for product in products %}  

            <div class="col-md-6">
                <div class="card m-3" style="width: 18rem;">
                    <img src="{{ product.image.url }}" class="card-img-top" alt="...">
                    <div class="card-body">
                    <h5 class="card-title m-1"><b>Name:</b> {{ product.name }}</h5>
                    <h4 class="card-title m-1"><b>Price:</b> {{ product.price }}</h4>
                    <p class="card-text m-1">Description: {{ product.description }}</p>
                    <p class="card-text m-1">Date: {{ product.created_at }}</p>
                    <a href=" {% url 'product' product.pk %}" class="btn btn-primary mt-2">Detail</a>
                    </div>
                </div>
            </div>
        {% endfor %}
        {% else %}
            <p>No Products..</p>
        {% endif %}   
            
        </div>

        
        <div class="row m-5">
            <div class="col-md-12 m-2">
    
              {% if products.has_other_pages %}
                <ul class="pagination">
                      {% if products.has_previous %}  
                          <li class="page-item">
                            <a href="?page={{ products.previous_page_number }}" class="page-link">&laquo;
                            </a>
                          <li>
                        {% else %}
                          <li class="page-item disabled">
                            <a class="page-link" href="?page=1">&laquo;</a>
                          </li>     
                       {% endif %}
    
                    {% for i in products.paginator.page_range %}
                          {% if products.number == i %}
                            <li class="page-item active">
                              <a class="page-link">{{ i }}</a>
                            </li>
                          {% else %}
                          <li class="page-item">
                            <a href="?page={{ i }}" class="page-link">{{ i }}</a>
                          </li>  
                          {% endif %}
                    {% endfor %}
  
  
    
                    {% if products.has_next %}  
                    <li class="page-item">
                      <a href="?page={{ products.next_page_number }}" class="page-link">&raquo;
                      </a>
                    <li>
                    {% else %}
                    <li class="page-item disabled">
                      <a class="page-link" href="?page={{ products.paginator.num_pages }}">&raquo;</a>
                    </li>     
                    {% endif %}
    
                </ul>
              {% endif %}
    
            </div>
          </div>


</div>

    




{% endblock %} 